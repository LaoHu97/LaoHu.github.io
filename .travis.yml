language: ''
install:
- npm install
addons:
- ssh_known_hosts: 207.148.97.207
before_install:
- npm install -g hexo
- npm install -g hexo-cli
script:
- hexo clean
- hexo generate
- export HEXO_ALGOLIA_INDEXING_KEY=57804367b189015886ebad2958f5aa33
- hexo algolia
- hexo deploy
after_script:
- cd ./public
- git init
- git config user.name "LaoHu47"
- git config user.email "962271461@qq.com"
- git add .
- git commit -m "Update docs"
- git push -f -q "https://${GH_TOKEN}@${GH_REF}" master:gh-pages
branches:
  only:
  - master
env:
  global:
  - GH_REF: github.com/LaoHu97/LaoHu97.github.io
  - secure: wb0YwytROJOAEsoKjchMAGemX03QhZcbs01aJFkycpCt+6p+3JTgeBdgJGFAsozk+DrE+UJIwgn514c398CXJf0mCh5E1ZRbz+zmgtu79JB+db8PQ3Xq4bniY035FoY/JR3/WH587AVM8MM6Sb2No9OEiOHqVa6XgGCvRarnbCKW157VakfKrsl0o2rSyZTFgN2QNBHMhcyXHpAz1vUUt48irdFBdafx/ArsrMlUsxTtrIfHs/hQOjP833zZoZ9/w9KWqyRY/T21pkOp2//fLpdfpIkH4s0iLt9XsK3yt/MxQWq42xY6PCGkFkrxZ9B5SDASqKl+QB1kDUPQHY/94afsLVJSE+deiwJV7N59Z+Kgl5Ds8grCmOPTHlO2LnIbEmjkitXJ+rV6nhnNNI8VV0vBBFJQzUMi+38rN7Y5K9PPQQOkUSZeqNH99crj7z/nbjxDQcuO3Vgb0ia/ZS21CSk+i5B0InzHNgWKdjXQBmM5Mmo1SN6xLZQL8EF9VuDbYEdT4U13Ykvl0I55nPiZiHCCAg6B3v397X7MZXxwu1FJGViksLSKzYGTJ77VFDLcnv2L0A5fzOuAoNVviuLSAYIBahvHEUHa6/B6CtbgrDHdzJJ4SqzWuNJ5TjN7S+xErsFi4KUIcPuJicVu0mOjOFTtLQvZHHKIFFnGhov0EpQ=
